if(document.querySelector(".box-products")){var boxBuy=document.querySelector(".box-products"),closeButtonBasket=(popupBasket=document.querySelector(".basket-popup")).querySelector(".entrance-button");boxBuy.addEventListener("click",function(e){e.target.classList.contains("link-buy")&&(e.preventDefault(),popupBasket.classList.add("popup-show"))}),closeButtonBasket.addEventListener("click",function(){popupBasket.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupBasket.classList.contains("popup-show")&&popupBasket.classList.remove("popup-show"))})}if(document.querySelector(".products")){var popupBasket;boxBuy=document.querySelector(".products"),closeButtonBasket=(popupBasket=document.querySelector(".basket-popup")).querySelector(".entrance-button");boxBuy.addEventListener("click",function(e){e.target.classList.contains("link-buy")&&(e.preventDefault(),popupBasket.classList.add("popup-show"))}),closeButtonBasket.addEventListener("click",function(){popupBasket.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupBasket.classList.contains("popup-show")&&popupBasket.classList.remove("popup-show"))})}if(document.querySelector(".contacts-map")){var linkContacts=document.querySelector(".contacts-map"),popupContacts=document.querySelector(".feedback-popup"),closeButton=popupContacts.querySelector(".entrance-button"),formContucts=popupContacts.querySelector("form"),nameInput=popupContacts.querySelector("[id=name-field]"),emailInput=popupContacts.querySelector("[id=email-field]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("emailInput")}catch(e){isStorageSupport=!1}linkContacts.addEventListener("click",function(e){e.preventDefault(),popupContacts.classList.add("popup-show"),storage&&(emailInput.value=storage),nameInput.focus()}),closeButton.addEventListener("click",function(e){e.preventDefault(),popupContacts.classList.remove("popup-show"),popupContacts.classList.remove("modal-error")}),formContucts.addEventListener("submit",function(e){nameInput.value&&emailInput.value?isStorageSupport&&localStorage.setItem("emailInput",emailInput.value):(e.preventDefault(),popupContacts.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupContacts.classList.contains("popup-show")&&(popupContacts.classList.remove("popup-show"),popupContacts.classList.remove("modal-error")))})}if(document.querySelector(".exit")){var exitLink=document.querySelector(".exit"),popupLogin=document.querySelector(".login-popup"),formLogin=popupLogin.querySelector("form"),nameInpt=popupLogin.querySelector("[id=name-id]");exitLink.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.add("popup-show"),nameInpt.focus()}),formLogin.addEventListener("submit",function(e){nameInpt.value||(e.preventDefault(),popupLogin.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupLogin.classList.contains("popup-show")&&(popupLogin.classList.remove("popup-show"),popupLogin.classList.remove("modal-error")))})}if(document.querySelector(".map-link")){var linkMap=document.querySelector(".map-link"),popupMap=document.querySelector(".map-popup"),closeButtonMap=popupMap.querySelector(".entrance-button");linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("popup-show")}),closeButtonMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupMap.classList.contains("popup-show")&&popupMap.classList.remove("popup-show"))})}
